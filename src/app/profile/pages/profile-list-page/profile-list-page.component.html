<jegyzi-title></jegyzi-title>
<div class="mx-20">
  @if(profiles$() | async; as profiles) {
  <form [formGroup]="filterForm" (submit)="filter()">
    <div class="flex w-[70%] justify-between mb-10 -mt-10">
      <div class="flex w-[80%] gap-8 items-center">
        <input class="searchbar" placeholder="Keress rá a felhasználó nevére" matInput type="text" formControlName="name" />
        <button type="submit">
          <span class="ph ph-magnifying-glass btn-icon"></span>
        </button>
      </div>
      <!--TODO: SORRENDEZÉS -->
      <button type="button" matTooltip="Rendezés">
        <span class="ph ph-funnel-simple btn-icon"></span>
      </button>
    </div>

    <div class="w-full flex justify-between">
      <div class="flex flex-col gap-10 w-[70%]">
        <jegyzi-profile-list [profiles]="profiles" />
      </div>
      <div class="flex flex-col gap-y-6 w-1/4">
        <div class="bg-background-200 rounded-3xl px-6 py-4 text-sm">
          <span class="font-semibold text-lg text-primary-600 mb-10">Szűrés</span>
          <div class="form-control w-full">
            <div class="label">Profil típusa</div>
            <mat-select formControlName="profileType" class="w-full">
              <mat-option>Törlés</mat-option>
              <mat-option [value]="profileTypes.student">{{ profileTypes.student }}</mat-option>
              <mat-option [value]="profileTypes.teacher">{{ profileTypes.teacher }}</mat-option>
              <mat-option [value]="profileTypes.work">{{ profileTypes.work }}</mat-option>
              <mat-option [value]="profileTypes.other">{{ profileTypes.other }}</mat-option>
            </mat-select>
          </div>
          <div class="form-control w-full">
            <div class="label">Követők száma</div>
            <input matInput type="number" formControlName="numberOfFollowers" />
          </div>
          <div class="form-control w-full">
            <div class="label">Jegyzetek száma</div>
            <input matInput type="number" formControlName="numberOfNotes" />
          </div>
          <div class="form-control w-full">
            <div class="label">Intézmény típusa</div>
            <mat-select formControlName="educationType" class="w-full">
              <mat-option>Törlés</mat-option>
              <mat-option [value]="educationTypes.primary">{{ educationTypes.primary }}</mat-option>
              <mat-option [value]="educationTypes.secondary">{{ educationTypes.secondary }}</mat-option>
              <mat-option [value]="educationTypes.upper">{{ educationTypes.upper }}</mat-option>
              <mat-option [value]="educationTypes.university">{{ educationTypes.university }}</mat-option>
            </mat-select>
          </div>
          <div class="form-control w-full">
            <div class="label">Évfolyam</div>
            <input matInput type="number" formControlName="educationYear" />
          </div>
        </div>
        <button class="btn-small btn-light self-end" type="submit">Keresés</button>
      </div>
    </div>
  </form>
  }
</div>
